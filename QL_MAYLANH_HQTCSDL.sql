CREATE DATABASE QL_MAYLANH_HQTCSDL
USE QL_MAYLANH_HQTCSDL 

CREATE TABLE NHACUNGCAP 
(
	MANCC VARCHAR(10) PRIMARY KEY NOT NULL,
	TENNCC NVARCHAR(50) NOT NULL,
	DIACHI NVARCHAR(100)
);

CREATE TABLE SANPHAM
(
	MASANPHAM VARCHAR(10) PRIMARY KEY NOT NULL,
	TENSANPHAM NVARCHAR(100) NOT NULL,
	SOLUONG INT ,
	DONGIANHAP DECIMAL(18,0),
	DONGIABAN DECIMAL(18,0),
	MANCC VARCHAR(10) 
	FOREIGN KEY (MANCC) REFERENCES NHACUNGCAP(MANCC)
);

CREATE TABLE QUYEN
(
	MAQUYEN VARCHAR(10) PRIMARY KEY NOT NULL,
	TENQUYEN NVARCHAR (100) NOT NULL
);

CREATE TABLE NGUOIDUNG
(
	MAND INT IDENTITY(1,1) PRIMARY KEY,
	TEN NVARCHAR(255) NOT NULL,
	NGAYSINH DATE,
	SODIENTHOAI VARCHAR(20),
	USERNAME VARCHAR(255) NOT NULL,
	MATKHAU VARCHAR(50) NOT NULL,
	MAQUYEN VARCHAR(10),
	FOREIGN KEY (MAQUYEN) REFERENCES QUYEN(MAQUYEN)
);

CREATE TABLE KHACHHANG
(
	MAKH VARCHAR(10) PRIMARY KEY NOT NULL,
	TENKH NVARCHAR(255) NOT NULL,
	DIACHI NVARCHAR(100),
	SODIENTHOAI VARCHAR(10)
);

CREATE TABLE NHANVIEN
(
	MANV VARCHAR(10) PRIMARY KEY NOT NULL,
	TENNV NVARCHAR(255) NOT NULL,
	NGAYSINH DATE,
	SODIENTHOAI VARCHAR(10),
	DIACHI NVARCHAR(100)
);

CREATE TABLE HOADONNHAP 
(
	MAHDN VARCHAR(10) NOT NULL PRIMARY KEY,
	MANV VARCHAR(10),
	MANCC VARCHAR(10),
	TONGTIEN DECIMAL(18,2),
	NGAYNHAP DATE
	FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV),
	FOREIGN KEY (MANCC) REFERENCES NHACUNGCAP(MANCC)
);

CREATE TABLE CTHOADONNHAP 
(
	MACTHDN VARCHAR(10) NOT NULL,
	MAHDN VARCHAR(10),
	MASANPHAM VARCHAR(10),
	SOLUONG INT,
	DONGIA DECIMAL(18,0),
	PRIMARY KEY(MACTHDN, MAHDN),
	FOREIGN KEY (MAHDN) REFERENCES HOADONNHAP(MAHDN),
	FOREIGN KEY (MASANPHAM) REFERENCES SANPHAM(MASANPHAM)
);

CREATE TABLE HOADONXUAT 
(
	MAHDX VARCHAR(10) PRIMARY KEY NOT NULL,
	MAKH VARCHAR(10),
	MANV VARCHAR(10),
	TONGTIEN DECIMAL(18,0),
	NGAY DATE,
	FOREIGN KEY (MAKH) REFERENCES KHACHHANG(MAKH),
	FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV)
);

CREATE TABLE CHITIETHOADONXUAT
(
	MACTHDX VARCHAR(10) NOT NULL,
	MAHDX VARCHAR(10),
	MASANPHAM VARCHAR(10),
	SOLUONG INT,
	DONGIA DECIMAL(18,0)
	PRIMARY KEY(MACTHDX, MAHDX),
	FOREIGN KEY (MAHDX) REFERENCES HOADONXUAT(MAHDX),
	FOREIGN KEY (MASANPHAM) REFERENCES SANPHAM(MASANPHAM)
);



CREATE TABLE THONGKE
(
	STT INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	MASANPHAM VARCHAR(10),
	TENSANPHAM NVARCHAR(100),
	SOLUONG INT,
	DONGIA DECIMAL(18,0),
	TONGTIEN DECIMAL(18,0),
	NGAY DATE,
	TENNCC NVARCHAR(100),
	MAHDX VARCHAR(10),
	FOREIGN KEY (MASANPHAM) REFERENCES SANPHAM(MASANPHAM),
	FOREIGN KEY (MAHDX) REFERENCES HOADONXUAT(MAHDX)
);



INSERT INTO QUYEN (MAQUYEN, TENQUYEN) VALUES
('Q1', N'Admin'),
('Q2', N'Nhân Viên Sản Phẩm'),
('Q3', N'Nhân Viên Kho Hàng'),
('Q4', N'Nhân Viên Tài Chính');


INSERT INTO NGUOIDUNG(TEN, NGAYSINH, SODIENTHOAI, USERNAME, MATKHAU, MAQUYEN) VALUES
(N'Minh Quân', '2004-05-20', '0966546750', 'MinhQuun', '123', 'Q1'),
(N'Admin phụ', '2024-10-20', '0915313131', 'admin', '123', 'Q1'),
(N'Như Đoan', '2004-10-14', '091532222', 'Doan', '123', 'Q2'),
(N'Huỳnh Sơn', '2024-11-07', '091533333', 'Son', '123', 'Q3'),
(N'Minh Luân', '2024-11-07', '091653333', 'lu', '123', 'Q3'),
(N'Minh Trí', '2024-11-07', '091792343', 'tri', '123', 'Q3');


INSERT INTO NHACUNGCAP(MANCC, TENNCC, DIACHI) VALUES
('DAI', N'Daikin Việt Nam', N'Số 15 Phạm Hùng, Quận Nam Từ Liêm, Hà Nội'),
('PANA', N'Panasonic Việt Nam', N'Số 233A Phan Văn Trị, Quận Gò Vấp, TP.HCM'),
('LG', N'LG Electronics Việt Nam', N'Lô CN2, KCN Tràng Duệ, Hải Phòng'),
('SS', N'Samsung Electronics Việt Nam', N'Số 1 Yên Phong, Bắc Ninh'),
('MIT', N'Mitsubishi Electric Việt Nam', N'Số 10 Tôn Thất Tùng, Quận 1, TP.HCM'),
('TOYO', N'Toshiba Việt Nam', N'Số 24 Cầu Giấy, Hà Nội'),
('FUJI', N'Fujitsu Việt Nam', N'Số 1 Lý Thường Kiệt, Quận 10, TP.HCM'),
('HIT', N'Hitachi Việt Nam', N'Số 16 Quang Trung, Đà Nẵng'),
('SHARP', N'Sharp Việt Nam', N'Số 30 Pasteur, Hải Phòng'),
('GREE', N'Gree Việt Nam', N'KCN Bắc Thăng Long, Hà Nội');


INSERT INTO SANPHAM(MASANPHAM, TENSANPHAM, SOLUONG, DONGIANHAP, DONGIABAN, MANCC) VALUES
('SP1', N'Máy lạnh Daikin Inverter 1HP', 50, 7000000, 9500000, 'DAI'),
('SP2', N'Máy lạnh Panasonic 1.5HP', 30, 8500000, 12000000, 'PANA'),
('SP3', N'Máy lạnh LG Dual Cool Inverter', 40, 7600000, 10500000, 'LG'),
('SP4', N'Máy lạnh Samsung Wind-Free 1.5HP', 25, 8800000, 12500000, 'SS'),
('SP5', N'Máy lạnh Mitsubishi Heavy Inverter 2HP', 20, 12000000, 15500000, 'MIT'),
('SP6', N'Máy lạnh Toshiba Inverter 1HP', 40, 7200000, 9800000, 'TOYO'),
('SP7', N'Máy lạnh Fujitsu 1.5HP', 35, 8200000, 11300000, 'FUJI'),
('SP8', N'Máy lạnh Hitachi Inverter 1HP', 30, 7300000, 9900000, 'HIT'),
('SP9', N'Máy lạnh Sharp J-Tech Inverter', 20, 8500000, 12500000, 'SHARP'),
('SP10', N'Máy lạnh Gree Inverter 1.5HP', 25, 7600000, 10200000, 'GREE');

INSERT INTO NHANVIEN (MANV, TENNV, NGAYSINH, SODIENTHOAI, DIACHI) VALUES
('NV001', N'Nguyễn Văn A', '1990-05-10', '0912345678', N'123 Đường Lý Thường Kiệt, Hà Nội'),
('NV002', N'Trần Thị B', '1985-03-22', '0987654321', N'456 Đường Phan Chu Trinh, Đà Nẵng'),
('NV003', N'Phạm Văn C', '1992-08-15', '0909123456', N'789 Đường Nguyễn Huệ, TP. Hồ Chí Minh'),
('NV004', N'Lê Thị D', '1988-11-30', '0932456789', N'321 Đường Lạc Long Quân, Cần Thơ'),
('NV005', N'Hoàng Văn E', '1995-02-28', '0978567890', N'654 Đường Võ Nguyên Giáp, Huế'),
('NV006', N'Ngô Văn F', '1991-07-12', '0911112233', N'90 Đường Trần Đại Nghĩa, Hà Nội'),
('NV007', N'Lê Thị G', '1989-04-09', '0944556678', N'23 Đường Láng, Đà Nẵng'),
('NV008', N'Trần Quốc H', '1984-06-30', '0933344556', N'67 Đường Nguyễn Kiệm, TP.HCM'),
('NV009', N'Hoàng Thị I', '1987-12-12', '0955567788', N'43 Đường Cách Mạng Tháng 8, Cần Thơ'),
('NV010', N'Phạm Văn J', '1990-09-01', '0966677889', N'25 Đường An Dương Vương, Huế');


INSERT INTO KHACHHANG (MAKH, TENKH, DIACHI, SODIENTHOAI) VALUES
('KH001', N'Nguyễn Thị Lan', N'12 Đường Trần Phú, Hà Nội', '0911223344'),
('KH002', N'Phạm Văn Tùng', N'34 Đường Lê Lợi, Đà Nẵng', '0922334455'),
('KH003', N'Trần Thị Hoa', N'56 Đường Nguyễn Văn Linh, TP. Hồ Chí Minh', '0933445566'),
('KH004', N'Lê Minh Quân', N'78 Đường Nguyễn Trãi, Huế', '0944556677'),
('KH005', N'Hoàng Văn Nam', N'90 Đường Hai Bà Trưng, Cần Thơ', '0955667788'),
('KH006', N'Nguyễn Văn Phong', N'34 Đường Nguyễn Văn Cừ, Hà Nội', '0961223344'),
('KH007', N'Trần Thị Thu', N'23 Đường Nguyễn Oanh, Đà Nẵng', '0932334455'),
('KH008', N'Lê Minh Huy', N'45 Đường Lê Duẩn, TP.HCM', '0913445566'),
('KH009', N'Phan Văn Đức', N'12 Đường Bạch Đằng, Huế', '0984556677'),
('KH010', N'Nguyễn Văn Bảo', N'56 Đường Phạm Văn Đồng, Cần Thơ', '0975667788');


INSERT INTO HOADONNHAP (MAHDN, MANV, MANCC, TONGTIEN, NGAYNHAP) VALUES
('HDN001', 'NV001', 'DAI', 70000000, '2024-10-15'),
('HDN002', 'NV002', 'PANA', 25500000, '2024-10-18'),
('HDN003', 'NV003', 'LG', 30400000, '2024-10-20'),
('HDN004', 'NV004', 'SS', 22000000, '2024-10-22'),
('HDN005', 'NV005', 'MIT', 24000000, '2024-10-23'),
('HDN006', 'NV006', 'TOYO', 72000000, '2024-10-24'),
('HDN007', 'NV007', 'FUJI', 28700000, '2024-10-25'),
('HDN008', 'NV008', 'HIT', 29200000, '2024-10-26'),
('HDN009', 'NV009', 'SHARP', 17000000, '2024-10-27'),
('HDN010', 'NV010', 'GREE', 38000000, '2024-10-28');



INSERT INTO CTHOADONNHAP (MACTHDN, MAHDN, MASANPHAM, SOLUONG, DONGIA) VALUES
('CTHDN001', 'HDN001', 'SP1', 10, 7000000),
('CTHDN002', 'HDN002', 'SP2', 3, 8500000),
('CTHDN003', 'HDN003', 'SP3', 4, 7600000),
('CTHDN004', 'HDN004', 'SP4', 2, 8800000),
('CTHDN005', 'HDN005', 'SP5', 2, 12000000),
('CTHDN006', 'HDN006', 'SP6', 10, 7200000),
('CTHDN007', 'HDN007', 'SP7', 5, 8200000),
('CTHDN008', 'HDN008', 'SP8', 4, 7300000),
('CTHDN009', 'HDN009', 'SP9', 2, 8500000),
('CTHDN010', 'HDN010', 'SP10', 5, 7600000);

INSERT INTO HOADONXUAT (MAHDX, MAKH, MANV, TONGTIEN, NGAY) VALUES
('HDX001', 'KH001', 'NV001', 28500000, '2024-10-15'),
('HDX002', 'KH002', 'NV002', 21000000, '2024-10-16'),
('HDX003', 'KH003', 'NV003', 15200000, '2024-10-17'),
('HDX004', 'KH004', 'NV004', 12500000, '2024-10-18'),
('HDX005', 'KH005', 'NV005', 24000000, '2024-10-19'),
('HDX006', 'KH006', 'NV006', 19600000, '2024-10-20'),
('HDX007', 'KH007', 'NV007', 21000000, '2024-10-21'),
('HDX008', 'KH008', 'NV008', 12500000, '2024-10-22'),
('HDX009', 'KH009', 'NV009', 9900000, '2024-10-23'),
('HDX010', 'KH010', 'NV010', 20400000, '2024-10-24');


INSERT INTO CHITIETHOADONXUAT (MACTHDX, MAHDX, MASANPHAM, SOLUONG, DONGIA) VALUES
('CTHDX001', 'HDX001', 'SP1', 2, 9500000),
('CTHDX002', 'HDX001', 'SP2', 1, 9500000),
('CTHDX003', 'HDX002', 'SP3', 2, 10500000),
('CTHDX004', 'HDX003', 'SP4', 1, 12500000),
('CTHDX005', 'HDX005', 'SP5', 2, 12000000),
('CTHDX006', 'HDX006', 'SP6', 2, 9800000),
('CTHDX007', 'HDX007', 'SP7', 1, 11300000),
('CTHDX008', 'HDX008', 'SP8', 1, 9900000),
('CTHDX009', 'HDX009', 'SP9', 1, 12500000),
('CTHDX010', 'HDX010', 'SP10', 2, 10200000);





